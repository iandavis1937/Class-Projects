---
output:
  pdf_document: default
header-includes:
  - \usepackage{color}
---
----
 Summer 2021: Introduction to Data Science
---

```{r, echo = F, results = 'hide', message=F, warning = F}
library(knitr)  
```

# \textcolor{blue}{Lab 3: Data Frames}
#### Author:_____Ian Davis_____

#### \textcolor{red}{Total Grade for Lab 3: /25} 
#### \textcolor{red}{Comments (optional)} 

## \textcolor{blue}{Introduction}

By now, you have finished Vectors, Matrices, and Data Frames sections of the DataCamp course, Introduction to R. This lab helps you to practice what you have learned to our Class Survey dataset. 

A quick review about vectors, matrices, and data frames:

- Vectors (one-dimensional array): can hold numeric, character or logical values. The elements in a vector all have the same data type.
- Matrices (two-dimensional array): can hold numeric, character or logical values. The elements in a matrix all have the same data type.
- Data frames (two-dimensional objects): can hold numeric, character or logical values. Within a column all elements have the same data type, but different columns can be of different data type.

When working with a dataset containing variables of various data type, such as the Class Survey dataset, we focus more on working with data frames instead of matrices (see their similarities and differences summarized above). Therefore in this lab, we focus on data frames. You will gain insight into working with data frames, including creating a data frame, adding new columns and/or rows to an existing data frame, element selection of a data frame, and sorting a data frame.

## \textcolor{blue}{Template for lab report}
\textbf{Instructions:} This is the template you will use to type up your responses to the exercises. To produce a document that you can print out and turn in just click on Knit PDF above. All you need to do to complete the lab is to type up your BRIEF answers and the R code (when necessary) in the spaces provided below. If you want to find out more about the markdown language click on the MD icon.

It is strongly recommended that you knit your document regularly (minimally after answering each exercise) for two reasons. 

  1. Ensure that there are no errors in your code that would prevent the document from knitting.
  2. View the instructions and your answers in a more legible, attractive format.

## \textcolor{blue}{Here are some quick tips in case you forgot:} 

To create a new code chunk:

- Mac: Command + Option + I
- Windows: Control + Alt + I
  
```{r, echo=FALSE, out.width = '75%', fig.align= 'center'}
include_graphics(path.expand("~/share/rstudioserverNewChunck.png"))
```

In order to run a chunk of code:

- Press the small teal arrow in the top right corner of the chunk
- Press Command + Option + C
- Press Control + Alt + C

```{r, echo=FALSE,  out.width = '75%', fig.align= 'center'}
include_graphics(path.expand("~/share/rstudioserverRunChunck.png"))
```

Load the Class Survey dataset.

```{r}
ClassSurveyData <- read.csv("ClassSurvey.csv", header = TRUE)
```

## \textcolor{blue}{Working with data frames: create and name a data frame}

The dataset \textcolor{teal}{ClassSurveyData} has 21 variables. Suppose we only want to work with a smaller set of variables of the \textcolor{teal}{ClassSurveyData} dataset, including 3 out of the 21 variables: \textcolor{teal}{LACOLschool}, \textcolor{teal}{CollegeApps}, and \textcolor{teal}{Sleep}. We could create a new dataset, \textcolor{teal}{ClassSurveyDataSubset1} using the command below.

```{r}
ClassSurveyDataSubset1 <- data.frame(ClassSurveyData$LACOLschool, 
                                     ClassSurveyData$CollegeApps,
                                     ClassSurveyData$Sleep)
```

The new dataset \textcolor{teal}{ClassSurveyDataSubset1} is also a data frame. One can also ensure the variable names in \textcolor{teal}{ClassSurveyDataSubset1} are consistent as in \textcolor{teal}{ClassSurveyData}.

```{r}
names(ClassSurveyDataSubset1) <- c("LACOLschool", "CollegeApps", "Sleep")
```

### \textcolor{blue}{Exercise 1: } Create a new data frame including the following variables: LACOLschool, StatesLived, CountriesVisited. Name the new data frame ClassSurveyDataSubset2. Make sure the variable names are the same as in ClassSurveyData.

```{r}
#insert the correct commands here (they should not be preceded by a hashtag)
ClassSurveyDataSubset2 <- data.frame(ClassSurveyData$LACOLschool, 
                                     ClassSurveyData$StatesLived,
                                     ClassSurveyData$CountriesVisited)
names(ClassSurveyDataSubset2) <- c("LACOLschool", "StatesLived", "CountriesVisited")
```

### \textcolor{blue}{Answer 1: } (Write your answer in a few words in plain English here.)

The data frame ClassSurveyDataSubset2 includes LACOLschool, StatesLived, and CountriesVisited (w/ its columns named as such) from ClassSurveyData.

### \textcolor{red}{Grade for Exercise 1: /4} 
### \textcolor{red}{Comments: } 

## \textcolor{blue}{Working with data frames: selection of elements}

Each row in a data frame corresponds to an observation, and each column in a data frame corresponds to a variable. The \textcolor{teal}{ClassSurveyDataSubset1} dataset contains the 3 variables of interest among all 21 variables \textcolor{teal}{ClassSurveyData}. The data frame creation above can be considered as selection of elements in a data frame, focusing only on the variables of interest.

One can select observations in a data frame using indices of the rows and columns. For example, one can find out about the \textcolor{teal}{CollegeApps} entry of the first respondent, the entire entry of the second respondent, and the \textcolor{teal}{Sleep} entries of the first 5 respondents by using the following commands.

```{r}
ClassSurveyDataSubset1[1, 2]
ClassSurveyDataSubset1[2, ]
ClassSurveyDataSubset1[1:5, 3]
```

The commands above require one to know the indices of the variables. Alternatively, one can directly use the variable name for element selection.

```{r}
ClassSurveyDataSubset1[1, "CollegeApps"]
ClassSurveyDataSubset1[1:5, "Sleep"]
```

Moreover, one could select elements of interest with specific features. Suppose one wants to work with the \textcolor{teal}{CollegeApps} variable where every respondent has average sleep greater or equal to 8 hours. 

```{r}
Sleep <- ClassSurveyDataSubset1[, "Sleep"]
ClassSurveyDataSubset1[Sleep >= 8, "CollegeApps"]
```

Or suppose one wants to work with a reduced dataset where each respondents has made at least 10 college applications.

```{r}
CollegeApps <- ClassSurveyDataSubset1[, "CollegeApps"]
ClassSurveyDataSubset1[CollegeApps >= 10, ]
```

### \textcolor{blue}{Exercise 2: } Use the ClassSurveyDataSubset2 dataset created in Exercise 1. How many states has the 4th respondent lived in? How many countries has the 10th respondent visited? How about the maximum number of states lived by Swarthmore College students? How about the average number of states lived by students who have visited at least 8 countries? 

```{r, eval = TRUE}
#insert the correct commands here (they should not be preceded by a hashtag)
ClassSurveyDataSubset2[4, "StatesLived"]
ClassSurveyDataSubset2[10, "CountriesVisited"]
LACOLschool_vector <- ClassSurveyDataSubset2[, "LACOLschool"]
ClassSurveyDataSubset2[LACOLschool_vector == "Swarthmore College", "StatesLived"]
Countries_vector <- ClassSurveyDataSubset2[, "CountriesVisited"]
ClassSurveyDataSubset2[Countries_vector >= 8, "StatesLived"]
summary(ClassSurveyDataSubset2[Countries_vector >= 8, "StatesLived"])
```

### \textcolor{blue}{Answer 2: } (Write your answer in a few words in plain English here.)
 
 The 4th respondent has lived in one state. The 10th respondent has visited two countries. The maximum number of states lived in by a Swarthmore student is 6. The mean number of states lived in among students who have visited at least 8 countries is 1.76 (the median is one).
 

### \textcolor{red}{Grade for Exercise 2: /10} 
### \textcolor{red}{Comments: }


## \textcolor{blue}{Working with data frames: subsetting}

The \textcolor{teal}{subset} command is handy when selecting elements of a data frame with specific features. Suppose again one wants to work with a reduced dataset from \textcolor{teal}{ClassSurveyDataSubset1} where each respondent has made at least 10 college applications.

```{r}
CollegeApps <- ClassSurveyDataSubset1[, "CollegeApps"]
subset(ClassSurveyDataSubset1, subset = (CollegeApps >= 10))
```

### \textcolor{blue}{Exercise 3: } Use the ClassSurveyDataSubset2 dataset created in Exercise 1. Using the subset command, create a reduced dataset where each respondent has visited at least 8 countries. 

```{r}
#insert the correct commands here (they should not be preceded by a hashtag)
ClassSurveyDataSubset3 <- subset(ClassSurveyDataSubset2, subset = (Countries_vector >= 8))
ClassSurveyDataSubset3
```

### \textcolor{blue}{Answer 3: } (Write your answer in a few words in plain English here.)

ClassSurveyDataSubset3 is a reduced dataset where each respondent has visited at least 8 countries. 


### \textcolor{red}{Grade for Exercise 3: /5} 
### \textcolor{red}{Comments: }

## \textcolor{blue}{Working with data frames: sorting}

If there are numerical and/or ordinal categorical variables in a data frame, one might want to sort the data frame with an increasing or a decreasing order of a numerical and/or ordinal categorical variable.

For example, the \textcolor{teal}{ClassSurveyDataSubset1} dataset is sorted according to the order of response time by default. How about sorting it according to the \textcolor{teal}{CollegeApps} variable?

```{r}
positions <- order(ClassSurveyDataSubset1$CollegeApps, decreasing = FALSE)
ClassSurveyDataSubset1[positions, ]
```

The order command above has decreasing = FALSE as default, therefore the sorted data frame is sorted according to an increasing order of \textcolor{teal}{CollegeApps}. If one wants to sort a data frame according to a decreasing order, one can set decreasing = TRUE.

### \textcolor{blue}{Exercise 4: } Use the ClassSurveyDataSubset2 dataset created in Exercise 1. Sort ClassSurveyDataSubset2 according to a decreasing order of StatesLived.

```{r, eval= TRUE}
#insert the correct commands here (they should not be preceded by a hashtag)
positions1 <- order(ClassSurveyDataSubset2$StatesLived, decreasing = TRUE)
ClassSurveyDataSubset2[positions1,]
```

### \textcolor{blue}{Answer 4: } (Write your answer in a few words in plain English here.)

As seen above, ClassSurveyDataSubset2 is sorted in decreasing order of number of states lived in.

### \textcolor{red}{Grade for Exercise 4: /6} 
### \textcolor{red}{Comments: }

